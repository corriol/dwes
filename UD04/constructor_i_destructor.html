<!doctype html>
<html lang="ca">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="exe_highlighter.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>Constructor i destructor </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning  - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="exe_highlighter.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-10"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Omet navegació</a></p>
<section id="emptyHeader"></section>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">4. PHP - Classes i objectes</a></li>
   <li><a href="1_introducci.html" class="no-ch">1. Introducció</a></li>
   <li class="current-page-parent"><a href="2_caracterstiques_bsiques_de_la_utilitzaci_dobjectes_en_php.html" class="current-page-parent daddy">2. Característiques bàsiques de la utilització d'objectes en PHP</a>
   <ul>
      <li class="current-page-parent"><a href="1_definici_de_classes.html" class="current-page-parent daddy">1. Definició de classes</a>
      <ul>
         <li id="active"><a href="constructor_i_destructor.html" class="active no-ch">Constructor i destructor</a></li>
      </ul>
      </li>
      <li><a href="2_utilitzaci_dobjectes.html" class="no-ch">2. Utilització d'objectes</a></li>
   </ul>
   </li>
   <li><a href="3_herncia.html" class="daddy">3. Herència</a>
   <ul class="other-section">
      <li><a href="exercicis_prctics.html" class="no-ch">Exercicis pràctics</a></li>
   </ul>
   </li>
   <li><a href="4_interfcies.html" class="no-ch">4. Interfícies</a></li>
   <li><a href="5_traits.html" class="no-ch">5. Traits</a></li>
   <li><a href="6_treball_amb_objectes.html" class="no-ch">6. Treball amb objectes</a></li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="1_definici_de_classes.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="2_utilitzaci_dobjectes.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">Constructor i destructor</h1></header>
<article class="iDevice_wrapper FreeTextIdevice" id="id5">
<div class="iDevice emphasis0">
<div id="ta5_85" class="block iDevice_content">
<p>Com ja has vist, per a instanciar objectes de una classe s'utilitza la paraula new:</p>
<div class="highlighted-code language-php">
<div>
<pre><code>$p = new Producte();</code></pre>
</div>
</div>
<p>En PHP5 pots definir en les classes mètodes constructors, que s'executen quan es crea l'objecte.</p>
<p>El constructor de una classe ha d'anomenar-se __construct. Es poden utilitzar, per exemple,  per assignar valors a atributs.</p>
<div class="highlighted-code language-php">
<div>
<pre><code>class Producte {
    private static $num_productes = 0;
    private $codigo;
    public function __construct()
    {
        self::$num_productes++;
    }
   …
}</code></pre>
</div>
</div>
<p>El constructor de una classe pot cridar a altres mètodes o tenir paràmetres, en aquest cas hauran de passar-se quan es crea l'objecte. No obstant açò, només pot haver-hi un mètode constructor en cada classe.</p>
<div class="highlighted-code language-php">
<div>
<pre><code>class Producto {
    private static $num_productos = 0;
    private $codigo;
    public function __construct($codigo) {
        $this-&gt;$codigo = $codigo;
        self::$num_productos++;
    }
  ...
}
$p = new Producto('GALAXYS');</code></pre>
</div>
</div>
<p>Per exemple, si com en aquest exemple, definim un constructor en el qual calga passar el codi, sempre que instancies un nou objecte d'aqueixa classe hauràs de indicar el seu codi.</p>
<p>També és possible definir un mètode destructor, que ha d'anomenar-se __destruct()  que s'executarà quan s'elimine l'objecte. </p>
<div class="highlighted-code language-php">
<div>
<pre><code>class Producto {
    private static $num_productos = 0;
    private $codigo;
    public function __construct($codigo) {
        $this-&gt;$codigo = $codigo;
        self::$num_productos++;
    }
    public function __destruct() {
        self::$num_productos--;
    }
    ...
}
$p = new Producto('GALAXYS');</code></pre>
</div>
</div>
<p><br /><br /></p>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Llicenciat sota la </span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Llicència Creative Commons Reconeixement CompartirIgual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="1_definici_de_classes.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="2_utilitzaci_dobjectes.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<script type="text/javascript" src="_intef_js.js"></script></body></html>