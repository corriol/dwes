<!doctype html>
<html lang="ca">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>2. Utilització d'objectes </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning  - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-7"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Omet navegació</a></p>
<section id="emptyHeader"></section>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">4. PHP - Classes i objectes</a></li>
   <li><a href="1_introducci.html" class="no-ch">1. Introducció</a></li>
   <li class="current-page-parent"><a href="2_caracterstiques_bsiques_de_la_utilitzaci_dobjectes_en_php.html" class="current-page-parent daddy">2. Característiques bàsiques de la utilització d'objectes en PHP</a>
   <ul>
      <li><a href="1_definici_de_classes.html" class="daddy">1. Definició de classes</a>
      <ul class="other-section">
         <li><a href="constructor_i_destructor.html" class="no-ch">Constructor i destructor</a></li>
      </ul>
      </li>
      <li id="active"><a href="2_utilitzaci_dobjectes.html" class="active no-ch">2. Utilització d'objectes</a></li>
   </ul>
   </li>
   <li><a href="3_herncia.html" class="daddy">3. Herència</a>
   <ul class="other-section">
      <li><a href="exercicis_prctics.html" class="no-ch">Exercicis pràctics</a></li>
   </ul>
   </li>
   <li><a href="4_interfcies.html" class="no-ch">4. Interfícies</a></li>
   <li><a href="4_traits.html" class="no-ch">4. Traits</a></li>
   <li><a href="5_treball_amb_objectes.html" class="no-ch">5. Treball amb objectes</a></li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="constructor_i_destructor.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="3_herncia.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">2. Utilització d'objectes</h1></header>
<article class="iDevice_wrapper FreeTextIdevice" id="id4">
<div class="iDevice emphasis0">
<div id="ta4_85" class="block iDevice_content">
<p>Ja saps com instanciar un objecte utilitzant new, i com accedir a els seus mètodes i atributs públics amb l'operador fletxa:</p>
<p>$p = new Producte();<br />$p-&gt;nomene = 'Samsung Galaxy S';<br />$p-&gt;mostra();</p>
<p>Una vegada creat un objecte, pots utilitzar l'operador instanceof per a comprovar si és o no una instància de una classe determinada.</p>
<p>if ($p instanceof Producte) {<br />…<br />}</p>
<p>A més, en PHP5 s'inclouen una sèrie de funcions útils per al desenvolupament d'aplicacions utilitzant POO.</p>
<p>Funcions d'utilitat per a objectes i classes en PHP5</p>
<p>Funció Exemple Significat<br />get_class tire "La classe és: " . get_class($p); Retorna el nom de la classe de l'objecte.</p>
<p><br />class_exists<br />if (class_exists('Producte') {<br />$p = new Producte();<br />…<br />}<br />Retorna true si la classe està definida o false en cas contrari.<br />get_declared_classes print_r(get_declared_classes()); Retorna un array amb els noms de les<br />classes definides.<br />class_àlies<br />class_àlies('Producte', 'Articule');<br />$p = new Articule();<br />Crea un àlies per a una classe.<br />Retorna un array amb els noms de<br />get_class_methods print_r(get_class_methods('Producte')); els mètodes de una classe que són<br />accessibles des d'on es fa <br />la trucada.</p>
<p>method_exists</p>
<p>Retorna true si existeix el mètode en l'objecte o la classe que s'indica, o false en cas contrari, independentment de si és accessible o no.</p>
<p>if (method_exists('Producte', 'ven'){<br />…<br />}</p>
<p></p>
<p><br />Retorna un array amb els noms de<br />get_class_vars print_r(get_class_vars('Producte')); els atributs de una classe que són<br />accessibles des d'on es fa <br />la trucada.</p>
<p>Retorna un array amb els noms dels mètodes de un objecte que són accessibles des d'on es fa la trucada.<br />get_object_vars<br />print_r(get_object_vars($p));</p>
<p></p>
<p><br />if (property_exists('Producte', Retorna true si existeix l'atribut en <br />el property_exists 'codigo') { objecte o la classe que s'indica, o false<br />… en cas contrari, independentment<br />} de si és accessible o no.</p>
<p>Des de PHP5, pots indicar en les funcions i mètodes de quina classe han de ser els objectes que es passen com a paràmetres. Per a açò, has d'especificar el tipus abans del paràmetre.</p>
<p>public function vendeProducto(Producte $p) {<br />…<br />}</p>
<p>Si quan es realitza la trucada, el paràmetre no és del tipus adequat, es produeix un error que podries capturar. A més, tingues en compte que només funciona amb objectes (i a partir de PHP5.1 també amb arrays).</p>
<p>Una característica de la POO que has de tenir molt en compte és què succeeix amb els objectes quan els panses a una funció, o simplement quan executes un codi com el següent:</p>
<p>$p = new Producte();<br />$p-&gt;nomene = 'Samsung Galaxy S';<br />$a = $p;</p>
<p>En PHP4, l'última línia del codi anterior crea un nou objecte amb els mateixos valors de l'original, de la mateixa forma que es copia qualsevol altre tipus de variable. Si després de fer la còpia es modifica, per exemple, l'atribut 'nomene' de un dels objectes, l'altre objecte no es veuria modificat.</p>
<p>No obstant açò, en PHP5 aquest comportament varia. El codi anterior simplement crearia un nou identificador de el mateix objecte. Açò és, quan s'utilitze un qualsevol dels identificadors per a canviar el valor de algun atribut, aquest canvi es veuria també reflectit en accedir utilitzant l'altre identificador. Recorda que, encara que hi haja dos o més identificadors de el mateix objecte, en realitat tots es refereixen a l'única còpia que s'emmagatzema del mateix.</p>
<p></p>
<p></p>
<p></p>
<p>Per tant, a partir de PHP5 no pots copiar un objecte utilitzant l'operador =. Si necessites copiar un objecte, has d'utilitzar clone. En utilitzar els atributs de el mateix en un nou objecte.<br />sobre un objecte existent, es crea una còpia de</p>
<p>A més, existeix una forma senzilla de personalitzar la còpia per a cada classe particular. Per exemple, pot succeir que vulgues copiar tots els atributs menys algun. En el nostre exemple, almenys el codi de cada producte ha de ser diferent i, per tant, potser no tinga sentit copiar-ho en crear un nou objecte. Si aquest fóra el cas, pots crear un mètode de nom clone en la classe. Aquest mètode es cridarà automàticament després de copiar tots els atributs en el nou objecte.</p>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Llicenciat sota la </span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Llicència Creative Commons Reconeixement CompartirIgual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="constructor_i_destructor.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="3_herncia.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<script type="text/javascript" src="_intef_js.js"></script></body></html>